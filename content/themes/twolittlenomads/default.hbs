<!DOCTYPE html>
<html>
<head>
    {{! Document Settings }}
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    {{! Page Meta }}
    <title>{{meta_title}}</title>
    <meta name="description" content="{{meta_description}}" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="apple-touch-icon" sizes="57x57" href="/assets/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/assets/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/assets/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="/assets/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/assets/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    {{! Styles'n'Scripts }}
    
    <!--<link rel='stylesheet' type='text/css' href="{{asset "css/bootstrap/css/bootstrap.min.css"}}">-->
    <link rel="stylesheet" type="text/css" href="{{asset "css/screen.css"}}" />
<!--    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />-->
    <link rel='stylesheet' type='text/css' href='http://fonts.googleapis.com/css?family=Josefin+Slab|Raleway:700,400'>
    <link href='http://fonts.googleapis.com/css?family=EB+Garamond' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Lora|Crimson+Text|Amiri|Prata' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

    {{! Ghost outputs important style and meta data with this tag }}
    {{ghost_head}}
</head>
<body class="{{body_class}} nav-closed">

    {{navigation}}

    <div class="site-wrapper">

        {{! Everything else gets inserted here }}
        {{{body}}}
    </div>

    {{! Ghost outputs important scripts and data with this tag }}
    {{ghost_foot}}

    {{! The main JavaScript file for Casper }}
    <script type="text/javascript" src="{{asset "js/jquery.fitvids.js"}}"></script>
    <script type="text/javascript" src="{{asset "js/index.js"}}"></script>
    <script>                    
        $(document).ready(function() {           
            parseLanguage();
            
            $('.comment-toggler').click(function(){
                $('.comments').slideToggle(800);
            });
            
            $('.language-english')
            .on('click', function(event) {
                choose('english');
             });
            
            $('.language-german')
            .on('click', function(event) {
                choose('german');
             });
             
             $('.language-norwegian')
             .on('click', function(event) {
                choose('norwegian');
             });
        });
        
        function choose(language){
            display("." + language);
            setActive('.language-' + language);
            setCookie("language", language)
        }
        
        function display(selector){
            $('.language').hide();
            $(selector).fadeIn();    
        }
        
        function setActive(selector){
            $('a.active').removeClass('active');
            $(selector).addClass('active');
        }
        
        function parseLanguage(){
            var language = window.location.hash.substr(1);
            if(language === ""){
                language = getLanguageCookie();
            }
            if(language.toLowerCase() === "german"){
                choose('german');
                return;
            }
            else if(language.toLowerCase() === "norwegian"){
                choose('norwegian');
                return;
            }
            
            choose('english');
        }
        
        function setLanguageCookie(value){
            setCookie("language", value);
        }
        
        function getLanguageCookie(){
            return getCookie("language");
        }
        
        function setCookie(cname, cvalue) {
            var now = new Date();
            var expiry = new Date(now.getFullYear() + 1, 0, 1);
            var expires = "expires="+expiry.toUTCString();
            document.cookie = cname + "=" + cvalue + "; path=/; " + expires;
        }
        
        function getCookie(cname) {
            var name = cname + "=";
            var ca = document.cookie.split(';');
            for(var i=0; i<ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0)==' ') c = c.substring(1);
                if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
            }
            return "";
        }
 
    </script>
</body>
</html>
